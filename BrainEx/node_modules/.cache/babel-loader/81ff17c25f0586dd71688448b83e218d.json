{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kyrab\\\\Documents\\\\WPI\\\\Computer_Science\\\\MQP\\\\BrainEx-UI\\\\BrainEx\\\\src\\\\Components\\\\Home.js\";\nimport React, { Component } from 'react';\nimport { Link as RouterLink } from \"react-router-dom\";\nimport '../Stylesheets/Home.css';\nimport { preprocessed_files } from \"../dummy_data\";\nimport { Button, Link, Typography, ButtonGroup } from '@material-ui/core';\nimport FormData from 'form-data';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showFilename = e => {\n      let element = e.currentTarget;\n      console.log(element.name);\n    };\n\n    this.onChangeHandler = e => {\n      // convert FileList to an array of files\n      const new_files = [...e.target.files];\n      this.setState({\n        upload_files: new_files\n      }, () => {\n        console.log(\"files added to state successfully:\");\n        console.log(this.state.upload_files); // cannot print text and object in the same console.log\n      }); // print state for debugging\n    };\n\n    this.onClickHandler = e => {\n      e.preventDefault(); // prevents page refresh\n\n      let file_form = new FormData();\n      let new_files = this.state.upload_files;\n      new_files.map(file => {\n        file_form.append(\"file\", file); // add upload_files to FormData object\n      });\n      let all_files = this.state.all_files;\n      console.log(...file_form); // todo instead of below, send FormData to server and make state update somehow\n\n      this.setState({\n        all_files: all_files.concat(new_files),\n        upload_files: null\n      }, () => {\n        console.log(\"files \\\"uploaded\\\" successfully\");\n        console.log(this.state.all_files);\n      });\n    };\n\n    this.state = {\n      upload_files: null,\n      // todo have this set to pull from wherever the files are pulled from -mg\n      all_files: []\n    };\n    this.onChangeHandler = this.onChangeHandler.bind(this);\n    this.onClickHandler = this.onClickHandler.bind(this);\n    this.showFilename = this.showFilename.bind(this);\n  } // pull files from database here. this function will be called after render()\n\n\n  componentDidMount() {\n    this.setState({\n      all_files: preprocessed_files\n    });\n  } // use this function to do any handling once a file in the list is selected\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"full-height\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \" \", React.createElement(\"div\", {\n      className: \"row no-gutters\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col col-3 no-gutters\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \" \", React.createElement(\"div\", {\n      className: \"left d-flex justify-content-center align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"home-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      className: \"directions\",\n      variant: \"h4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Select a preprocessed dataset to explore here\"), React.createElement(ButtonGroup, {\n      className: \"file-list\",\n      orientation: \"vertical\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.state.all_files.map((file, index) => React.createElement(Button, {\n      name: file.name,\n      className: \"btn-file\",\n      variant: \"contained\",\n      key: index,\n      onClick: this.showFilename,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, file.name))), React.createElement(\"form\", {\n      className: \"form-group files home-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      className: \"directions\",\n      variant: \"h5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Load another preprocessed dataset\"), React.createElement(\"div\", {\n      className: \"new-file d-flex justify-content-center align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      name: \"file\",\n      className: \"form-control-file\",\n      accept: \".csv\",\n      onChange: this.onChangeHandler,\n      multiple: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"submit\",\n      className: \"btn-primary\",\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.onClickHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Add\")))))), React.createElement(\"div\", {\n      className: \"col no-gutters\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"right d-flex justify-content-center align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"home-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      className: \"directions\",\n      variant: \"h5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"The tool that helps find the top similar matches in fNIRS time series sequences\"), React.createElement(Link, {\n      className: \"right-item preprocess-bt btn btn-primary\",\n      variant: \"button\",\n      color: \"default\",\n      underline: \"none\",\n      component: RouterLink,\n      to: \"/SelectNewDataset\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Preprocess a new dataset\"))))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/kyrab/Documents/WPI/Computer_Science/MQP/BrainEx-UI/BrainEx/src/Components/Home.js"],"names":["React","Component","Link","RouterLink","preprocessed_files","Button","Typography","ButtonGroup","FormData","Home","constructor","props","showFilename","e","element","currentTarget","console","log","name","onChangeHandler","new_files","target","files","setState","upload_files","state","onClickHandler","preventDefault","file_form","map","file","append","all_files","concat","bind","componentDidMount","render","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Link as RouterLink} from \"react-router-dom\";\r\nimport '../Stylesheets/Home.css'\r\nimport { preprocessed_files } from \"../dummy_data\";\r\nimport { Button, Link, Typography, ButtonGroup } from '@material-ui/core';\r\nimport FormData from 'form-data';\r\n\r\nclass Home extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            upload_files: null, // todo have this set to pull from wherever the files are pulled from -mg\r\n            all_files: []\r\n        };\r\n        this.onChangeHandler = this.onChangeHandler.bind(this);\r\n        this.onClickHandler = this.onClickHandler.bind(this);\r\n        this.showFilename = this.showFilename.bind(this);\r\n    }\r\n\r\n    // pull files from database here. this function will be called after render()\r\n    componentDidMount() {\r\n        this.setState({\r\n            all_files: preprocessed_files\r\n        });\r\n    }\r\n\r\n    // use this function to do any handling once a file in the list is selected\r\n    showFilename = (e) => {\r\n        let element = e.currentTarget;\r\n        console.log(element.name);\r\n    };\r\n\r\n    // todo link used for file upload logic:\r\n    //  https://programmingwithmosh.com/javascript/react-file-upload-proper-server-side-nodejs-easy/\r\n    onChangeHandler = (e) => {\r\n        // convert FileList to an array of files\r\n        const new_files = [...e.target.files];\r\n        this.setState({\r\n                upload_files: new_files\r\n            }, () => {\r\n            console.log(\"files added to state successfully:\");\r\n            console.log(this.state.upload_files) // cannot print text and object in the same console.log\r\n        }); // print state for debugging\r\n    };\r\n\r\n    //handles the \"Add\" button functionality to add selected file to the server\r\n    // todo eventually have this add the file to the \"database\" - mg\r\n    onClickHandler = (e) => {\r\n        e.preventDefault(); // prevents page refresh\r\n        let file_form = new FormData();\r\n        let new_files = this.state.upload_files;\r\n        new_files.map((file) => {\r\n            file_form.append(\"file\", file); // add upload_files to FormData object\r\n        });\r\n        let all_files = this.state.all_files;\r\n        console.log(...file_form);\r\n        // todo instead of below, send FormData to server and make state update somehow\r\n        this.setState({\r\n            all_files: all_files.concat(new_files),\r\n            upload_files: null\r\n        }, () => {\r\n            console.log(\"files \\\"uploaded\\\" successfully\");\r\n            console.log(this.state.all_files);\r\n        });\r\n    };\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"full-height\"> {/*this styling lets the content stretch to bottom of page*/}\r\n                <div className=\"row no-gutters\">\r\n                    <div className=\"col col-3 no-gutters\"> {/*bootstrap columns should add up to 12 (4 + 8 = 12)*/}\r\n                        <div className=\"left d-flex justify-content-center align-items-center\">\r\n                            <div className=\"home-content\">\r\n                                <Typography className=\"directions\" variant=\"h4\">Select a preprocessed dataset to explore here</Typography>\r\n                                <ButtonGroup className=\"file-list\" orientation=\"vertical\" color=\"primary\">\r\n                                    { this.state.all_files.map((file, index) => (\r\n                                        <Button name={file.name} className=\"btn-file\" variant=\"contained\" key={index} onClick={this.showFilename}>{file.name}</Button>\r\n                                    ))}\r\n                                </ButtonGroup>\r\n                                {/*adding a new file*/}\r\n                                <form className=\"form-group files home-content\">\r\n                                    <Typography className=\"directions\" variant=\"h5\">Load another preprocessed dataset</Typography>\r\n                                    <div className=\"new-file d-flex justify-content-center align-items-center\">\r\n                                        <input type=\"file\" name=\"file\" className=\"form-control-file\" accept=\".csv\" onChange={this.onChangeHandler} multiple/>\r\n                                        <Button type=\"submit\" className=\"btn-primary\" variant=\"contained\" color=\"primary\" onClick={this.onClickHandler}>Add</Button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col no-gutters\">\r\n                        <div className=\"right d-flex justify-content-center align-items-center\">\r\n                            <div className=\"home-content\">\r\n                                <Typography className=\"directions\" variant=\"h5\">The tool that helps find the top similar matches in fNIRS time series sequences</Typography>\r\n                                <Link\r\n                                    className=\"right-item preprocess-bt btn btn-primary\"\r\n                                    variant=\"button\"\r\n                                    color=\"default\"\r\n                                    underline=\"none\"\r\n                                    component={RouterLink}\r\n                                    to=\"/SelectNewDataset\" >\r\n                                    Preprocess a new dataset\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}